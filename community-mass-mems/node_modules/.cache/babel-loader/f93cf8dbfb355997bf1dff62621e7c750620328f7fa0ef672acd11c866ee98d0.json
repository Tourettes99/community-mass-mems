{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Dialog,DialogTitle,DialogContent,DialogActions,Button,Box}from'@mui/material';import WaveSurfer from'wavesurfer.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const IntroDialog=_ref=>{let{open,onClose,audioPath}=_ref;const[isPlaying,setIsPlaying]=useState(false);const waveformRef=useRef(null);const wavesurferRef=useRef();useEffect(()=>{if(waveformRef.current&&open){wavesurferRef.current=WaveSurfer.create({container:waveformRef.current,waveColor:'#FF5F1F',progressColor:'#808080',cursorColor:'#666666',barWidth:2,barRadius:3,responsive:true,height:100,normalize:true});wavesurferRef.current.load(`${process.env.PUBLIC_URL}/${audioPath}`);wavesurferRef.current.on('finish',()=>{setIsPlaying(false);});return()=>{if(wavesurferRef.current){wavesurferRef.current.destroy();}};}},[open,audioPath]);const handlePlayPause=()=>{if(wavesurferRef.current){if(isPlaying){wavesurferRef.current.pause();}else{wavesurferRef.current.play();}setIsPlaying(!isPlaying);}};const handleSkip=()=>{if(wavesurferRef.current){wavesurferRef.current.stop();}onClose();};return/*#__PURE__*/_jsxs(Dialog,{open:open,maxWidth:\"sm\",fullWidth:true,PaperProps:{sx:{bgcolor:'background.paper',borderRadius:2}},children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Welcome to R1 Community Memories\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Box,{ref:waveformRef,sx:{my:2}})}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:2},children:[/*#__PURE__*/_jsx(Button,{onClick:handlePlayPause,variant:\"contained\",color:\"primary\",children:isPlaying?'Pause':'Play'}),/*#__PURE__*/_jsx(Button,{onClick:handleSkip,variant:\"outlined\",color:\"secondary\",children:\"Skip\"})]})]});};export default IntroDialog;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}